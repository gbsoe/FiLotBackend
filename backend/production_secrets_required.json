{
  "generated": "2024-11-30",
  "tranche": "T8-A",
  "description": "Production secrets required for FiLot backend deployment",
  "secrets": {
    "security": {
      "JWT_SECRET": {
        "required": true,
        "critical": true,
        "description": "JWT signing key for authentication tokens",
        "format": "Random string, minimum 32 characters",
        "awsSecretsManager": "filot/production/jwt-secret",
        "status": "MISSING"
      },
      "SESSION_SECRET": {
        "required": true,
        "critical": true,
        "description": "Session encryption key",
        "format": "Random string, minimum 32 characters",
        "awsSecretsManager": "filot/production/session-secret",
        "status": "EXISTS"
      },
      "SERVICE_INTERNAL_KEY": {
        "required": true,
        "critical": true,
        "description": "API key for internal service-to-service authentication",
        "format": "Random string, minimum 32 characters",
        "awsSecretsManager": "filot/production/service-internal-key",
        "status": "EXISTS"
      }
    },
    "database": {
      "DATABASE_URL": {
        "required": true,
        "critical": true,
        "description": "PostgreSQL connection string with SSL",
        "format": "postgresql://user:password@host:port/database?sslmode=require",
        "awsSecretsManager": "filot/production/database-url",
        "status": "EXISTS"
      }
    },
    "stackAuth": {
      "STACK_PROJECT_ID": {
        "required": true,
        "critical": false,
        "description": "Stack Auth project identifier",
        "format": "Project ID from Stack Auth dashboard",
        "awsSecretsManager": "filot/production/stack-auth",
        "status": "EXISTS"
      },
      "STACK_SECRET_SERVER_KEY": {
        "required": true,
        "critical": true,
        "description": "Stack Auth server-side secret key",
        "format": "Secret key from Stack Auth dashboard",
        "awsSecretsManager": "filot/production/stack-auth",
        "status": "EXISTS"
      },
      "STACK_PUBLISHABLE_CLIENT_KEY": {
        "required": true,
        "critical": false,
        "description": "Stack Auth client-side publishable key",
        "format": "Publishable key from Stack Auth dashboard",
        "awsSecretsManager": "filot/production/stack-auth",
        "status": "EXISTS"
      }
    },
    "cloudflareR2": {
      "CF_ACCOUNT_ID": {
        "required": true,
        "critical": false,
        "description": "Cloudflare account identifier",
        "format": "32-character hexadecimal string",
        "awsSecretsManager": "filot/production/cloudflare-r2",
        "status": "EXISTS"
      },
      "CF_R2_ENDPOINT": {
        "required": true,
        "critical": false,
        "description": "R2 S3-compatible endpoint URL",
        "format": "https://<account-id>.r2.cloudflarestorage.com",
        "awsSecretsManager": "filot/production/cloudflare-r2",
        "status": "EXISTS"
      },
      "CF_R2_ACCESS_KEY_ID": {
        "required": true,
        "critical": false,
        "description": "R2 API token access key ID",
        "format": "Access key from R2 API token",
        "awsSecretsManager": "filot/production/cloudflare-r2",
        "status": "EXISTS"
      },
      "CF_R2_SECRET_ACCESS_KEY": {
        "required": true,
        "critical": true,
        "description": "R2 API token secret access key",
        "format": "Secret key from R2 API token",
        "awsSecretsManager": "filot/production/cloudflare-r2",
        "status": "EXISTS"
      },
      "CF_R2_BUCKET_NAME": {
        "required": true,
        "critical": false,
        "description": "R2 bucket name for document storage",
        "format": "Bucket name (lowercase, hyphens allowed)",
        "awsSecretsManager": "filot/production/cloudflare-r2",
        "status": "EXISTS"
      }
    },
    "redis": {
      "REDIS_URL": {
        "required": true,
        "critical": true,
        "description": "Redis connection URL with TLS",
        "format": "rediss://user:password@host:port",
        "awsSecretsManager": "filot/production/redis",
        "status": "EXISTS"
      },
      "REDIS_PASSWORD": {
        "required": true,
        "critical": true,
        "description": "Redis authentication password",
        "format": "Strong password string",
        "awsSecretsManager": "filot/production/redis",
        "status": "EXISTS"
      },
      "REDIS_HOST": {
        "required": false,
        "critical": false,
        "description": "Redis host (if not using REDIS_URL)",
        "format": "Hostname or IP address",
        "awsSecretsManager": "filot/production/redis",
        "status": "EXISTS"
      },
      "REDIS_PORT": {
        "required": false,
        "critical": false,
        "description": "Redis port number",
        "format": "Port number (default: 6379)",
        "awsSecretsManager": "filot/production/redis",
        "status": "EXISTS"
      },
      "REDIS_USERNAME": {
        "required": false,
        "critical": false,
        "description": "Redis username for ACL authentication",
        "format": "Username string",
        "awsSecretsManager": "filot/production/redis",
        "status": "EXISTS"
      },
      "REDIS_TLS": {
        "required": true,
        "critical": false,
        "description": "Enable TLS for Redis connection",
        "format": "true or false",
        "awsSecretsManager": "filot/production/redis",
        "status": "EXISTS"
      }
    },
    "buli2": {
      "BULI2_API_KEY": {
        "required": true,
        "critical": true,
        "description": "BULI2 service API authentication key",
        "format": "API key string",
        "awsSecretsManager": "filot/production/buli2",
        "status": "MISSING"
      },
      "BULI2_SIGNATURE_SECRET": {
        "required": true,
        "critical": true,
        "description": "HMAC secret for verifying BULI2 callbacks",
        "format": "Random string, minimum 32 characters",
        "awsSecretsManager": "filot/production/buli2",
        "status": "MISSING"
      }
    },
    "temporal": {
      "TEMPORAL_API_KEY": {
        "required": false,
        "critical": true,
        "description": "Temporal Cloud API key for authentication",
        "format": "API key from Temporal Cloud console",
        "awsSecretsManager": "filot/production/temporal",
        "status": "EXISTS"
      },
      "TEMPORAL_ENDPOINT": {
        "required": false,
        "critical": false,
        "description": "Temporal Cloud gRPC endpoint",
        "format": "<namespace>.tmprl.cloud:7233",
        "awsSecretsManager": "filot/production/temporal",
        "status": "EXISTS"
      },
      "TEMPORAL_NAMESPACE": {
        "required": false,
        "critical": false,
        "description": "Temporal namespace for workflows",
        "format": "Namespace string",
        "awsSecretsManager": "filot/production/temporal",
        "status": "EXISTS"
      }
    },
    "aws": {
      "AWS_ACCOUNT_ID": {
        "required": true,
        "critical": false,
        "description": "AWS account ID for ECS deployment",
        "format": "12-digit AWS account number",
        "awsSecretsManager": "N/A - use IAM roles",
        "status": "NEEDS_CONFIGURATION"
      }
    }
  },
  "awsSecretsManagerPaths": [
    "filot/production/jwt-secret",
    "filot/production/session-secret",
    "filot/production/service-internal-key",
    "filot/production/database-url",
    "filot/production/stack-auth",
    "filot/production/cloudflare-r2",
    "filot/production/redis",
    "filot/production/buli2",
    "filot/production/temporal"
  ],
  "summary": {
    "totalSecrets": 24,
    "existingSecrets": 19,
    "missingSecrets": 3,
    "needsConfiguration": 2
  }
}
